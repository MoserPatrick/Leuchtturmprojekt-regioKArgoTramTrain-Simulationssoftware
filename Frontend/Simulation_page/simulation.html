<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simulation Dummy</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="simulation.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
      #map {
        height: 500px;
        width: 100%; 
      }
    </style>
  </head>
  <body>
    <main>
      <section class="left-side">
        <div class="container-fluid">
          <div class="row">
            <div class="map-container info-container">
              <div id="map"></div> <!-- Karte wird hier geladen -->
              <div class="roboter-info">
                <div class="top-line">
                  <div class="left d-flex">
                    <p>Number Of Robots:</p>
                    <p>Number Of Packages:</p>
                  </div>
                  <div class="right d-flex">
                    <p>Speed:</p>
                    <button class="cancel-simulation">Cancel Simulation</button>
                  </div>
                </div>
                <div class="info-sheet">
                  <div class="info-icons">
                    <li class="single-icon">
                      <img src="images/Robot.png" />
                      <p>(pc)</p>
                    </li>
                    <li class="single-icon">
                      <img src="images/box.png" />
                      <p>(pc)</p>
                    </li>
                    <li class="single-icon">
                      <img src="images/bigbattery.png" />
                      <p>(pc)</p>
                    </li>
                    <li class="single-icon">
                      <img src="images/Delivering.png" />
                      <p>(pc)</p>
                    </li>
                  </div>
                  <div class="location-destination">
                    <div class="location">
                      <img src="images/pngegg.png" />
                      <p>Station: Alpha</p>
                    </div>
                    <div class="destination">
                      <p>Destination: Kußmaulstraße</p>
                      <img src="images/pngegg.png" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="right-side">
        <div class="container">
          <div class="row">
            <div class="roboter-list" id = "roboter-list">
              
            </div>
          </div>
        </div>
      </section>
    </main>
    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
     
      const map = L.map('map').setView([49.0069, 8.4037], 13); // Karlsruhe coordinates

      // Add a base map
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '© OpenStreetMap contributors'
      }).addTo(map);

      // Load GeoJSON file
      fetch('KVV_Lines_GeoJSON_v3.json')
        .then(response => response.json())
        .then(data => {
          // Add each tram line to the map with its color
          data.features.forEach(feature => {
            const color = feature.properties.colorCode || 'red'; // Default color if missing
            L.geoJSON(feature, {
              style: {
                color: color,
                weight: 4,
                opacity: 0.8
              }
            }).addTo(map);
          });
        })
        .catch(error => console.error("Error loading GeoJSON:", error));
    </script>
    <script src="simulation.js"></script>
  </body>
</html>
